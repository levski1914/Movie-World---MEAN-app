<div class="movie-details-container" *ngIf="movie; else loading">
  <div class="movie-header">
    <h1>{{ movie.title || "Unknown Title" }}</h1>
  </div>
  <div class="movie-content">
    <img
      [src]="movie.image || 'default-image.jpg'"
      alt="{{ movie.title || 'Movie' }}"
      class="movie-image"
    />
    <div class="movie-info">
      <p><strong>Genre:</strong> {{ movie.genre || "N/A" }}</p>
      <p><strong>Release Date:</strong> {{ movie.releaseDate || "Unknown" }}</p>
      <p>
        <strong>Description:</strong>
        {{ movie.desc || "No description available." }}
      </p>
      <p>
        <strong>Average Rating:</strong>
        {{ averageRating.toFixed(1) }} ({{ totalRatings }} ratings)
      </p>
    </div>
  </div>
  <div class="rating-section">
    <h3>Rate this Movie</h3>
    <div class="stars">
      <span
        *ngFor="let star of [1, 2, 3, 4, 5]; let i = index"
        [class.filled]="i + 1 <= userRating"
        (click)="rateMovie(i + 1)"
      >
        â˜…
      </span>
    </div>
  </div>
</div>

<ng-template #loading>
  <p>Loading movie details...</p>
</ng-template>
